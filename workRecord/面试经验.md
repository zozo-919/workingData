#### 简历篇
* 技能：
  * 熟练掌握C语言，具备嵌入式开发经验。
  * 熟悉MCU基础外设功能，
  * 具备基本电路知识 能阅读原理图/芯片手册 使用示波器/万用表/电烙铁等工具。  

* 国民技术基于Cortex-M4处理器内核的N32G401系列MCU
  * MCU：N32G401xxx
  * 处理器（CPU核心）：ARM Cortex-M
  * 架构：ARMv7-M架构

* **CMSIS：** Cortex微控制器软件接口标准 它在芯片硬件和软件之间建立了一个抽象层，为开发者提供了统一的访问方式

### 面试篇
* **Uart**
  1. uart通信基本原理
     * uart是一种异步串行通信接口，采用异步传输，发送端与接收端事先约定好波特率。传输格式一般为：1位起始位+数据位（8/9位）+校验位（1位）+停止位（一般使用1/2位） 起始位为低电平/停止位为高电平
  2. uart常见参数
     * 波特率：9600～115200
     * 数据为：8/9位
     * 停止位：1/2位
     * 校验位：奇/偶/无
  3. uart波特率不匹配会如何
     * 波特率是每秒传输的位数 双方的波特率不匹配 则导致双方对每位数据的持续时间理解不同，从而造成通信错误
  4. uart优缺点
     * 优点：简单、灵活、低成本、全双工
     * 缺点：低速、可靠性低
  5. uart与usart区别
     * **usart** 是通用同步/异步收发传输器。它既支持异步通信，也支持同步通信
     * uart能实现的所有功能usart都能实现 反之不行
  6. uart多机通信怎么实现
     * uart协议本身不保护地址信息 只支持两个设备之间的直接通信
     * 如果要连接多个设备就需要额外的硬件（多路复用器）或者软件协议（modbus）在数据帧中定义地址
  7. uart调试常见问题与排查方法 
      * 波特率不对等、数据线接错


* **CPU调度**
	进程执行到某一时刻 被内核中断 然后内核可以重新开始之前被中断的进程 这种决策就是调度 
    是由内核中称为调度器的代码处理的 
    当内核选择一个新的进程时 就是说内核调度了这个进程  
    进程的调度是通过时钟中断的 如果没有中断 当用户进程执行死循环时 CPU会被一直占用 内核无法夺回控制权 通过设置时钟中断 每隔一段时间 内核就可以收回CPU的控制权 决定接下来哪个进程可以占用CPU 从而实现进程调度


* **进程**
	操作系统进行资源分配和调度的基本单位
- 进程间通信：多个进程之间需要进行信息交换 常用方法：
	1. Socket IPC
	2. 管道
	3. 共享内存
	4. 消息队列
	5. 信号量

* **线程**
	线程是指轻量级的执行单元 每个进程都有自己的地址空间、代码段、数据段、和打开的文件描述符等资源  线程是进程内的一个执行单元  它共享相同的地址空间和其他资源 包括文件描述符、信号处理等 但每个线程都有自己的栈空间

* **字节对齐**
  1. 字节对齐原理、为什么要字节对齐？
    字节对齐是：数据在内存中的起始地址必须是某个值整数倍
    ？：防止硬件异常，某些架构需要强制对齐，可以提升内存访问效率
  2. 非内存对齐访问
    如：一个4字节的数据 存放在起始地值为0x3上，ARM cortex-M内核上会触发UsageFault
  3. 节约内存
    改变成员顺序 避免字节填充造成的浪费

* **指令集**
  1. 什么是指令集?
    指令集是一套预定义的，CPU能够直接识别和执行的基本指令的集合，每一条指令都告诉CPU执行一个非常具体的底层操作 它是连接软件和硬件的桥梁
    我们用高级语言（C/C++ ... ）写的代码，最终都会被编译器、或解释器翻译成这一套由0和1组成的，CPU能读懂的指令序列
  2. 指令集架构
    1. CISC - 复杂指令集计算机，一条指令完成复杂任务
       指令复杂、指令长度可变、硬件复杂、倾向于使用微指令
       eg：X86 及其扩展 X86-64 
    2. RISC - 精简指令集计算机，一条指令只完成一个简单任务
        指令简单、指令长度固定、硬件简单、性能和功耗更优
       eg： ARM，MIPS，RISC-V 

* **ARM处理器**
  1. ARM处理器是什么？
    ARM处理器是基于RISC（精简指令集计算机）架构的中央处理器
  2. ARM处理器特点
    采用RISC精简指令集，指令简单、功耗低、执行效率高，集成度高，可嵌入多个外设模块，适合soc设计。

#### 关于项目部分：
###### 单点测距项目
###### 人脸识别模块项目
- 关于项目部分的话，我一共做了两个项目，第一个是基于君正x2100系列soc的智能门锁人脸识别模块。在加入项目时，整个系统的软硬件架构已经由团队搭建完成，我的工作主要在这个稳定的基座上，进行应用层开发和摄像头传感器适配。
- 在应用层开发方面主要优化人脸录入、识别性能，提升识别速度和准确率，还优化人脸模组和门锁主控之间的通信协议，确保指令传输的可靠和高效，扩展了原有的uart串口协议，为生产部门提供调焦功能、分辨率切换的需求。
- 在摄像头传感器方面快速适配不同型号的uvc摄像头，以应对供应链变化和成本控制需求。
- 还负责ISP图像效果调试，因为不同的客户对图像效果有不同的偏好（亮度、色彩、噪点等），不同的摄像头成像特性差异较大，我主要通过调试君正芯片内置的ISP参数来动态调整图像的亮度、对比度、饱和度、锐度及降噪强度等，以此提升图像质量和对不同环境的适应性。
- 同时我还实现了MJPEG和H264的双码流输出，MJPEG用于本地实时预览和人脸检测（低延迟、无帧间依赖的特性），H264用于远程传输（高压缩率特性）。
- 项目后期，为了扩大应用场景（如广角门楣、猫眼），我们需要支持鱼眼摄像头以获取超宽视野。但同时，鱼眼畸变会影响用户体验，因此我集成了君正提供的鱼眼校正算法，来配置校正参数，对图像进行畸变校正。此外，产品要求实现画中画预览功能，即在广角全景画面中，嵌入一个客户需求的特写窗口（主视图+俯视图）。
###### 单点测距模块
- 第二个项目就是基于国民技术n32g401系列的mcu搭配一个单点测距的传感器开发一个单点测距模块，用于近距离物体位置检测。同时开发一个简单的上位机软件，用于模拟外部与mcu通信。
- 我基于芯片原厂提供的方案SDK进行移植，在n32g401上快速构建项目基础，配置I2C与传感器进行通信，配置uart串口与外部进行数据交互。设计一套简单的应用层协议，通过uart串口，接收、解析并执行外部发来的指令，对传感器的原始数据进行处理，将处理后的数据构建成数据包发送到外部。
- 至于上位机软件，主要用于模拟外部通过串口与模块进行数据交互，指令下发，以及测试结果展示。













https://github.com/zozo-919/workingData









---












在之前的工作中，我加入项目时，整个系统的软硬件架构已经由团队搭建完成。 我的工作是在这个稳定的基座上，我参与了 基于君正x2100系列SOC的智能门锁人脸识别模块开发，搭配红外和rgb双摄模组，我作为嵌入式软件工程师，主要负责应用层开发和传感器适配。录入、识别流程的性能优化，实现完整的人脸检测、录入及识别的业务流程，并通过串口与门锁的主控mcu进行通信。
主要负责构建稳定高效的应用层业务逻辑，并快速适配和集成不同的传感器。
我还优化了多线程间的通信效率，确保了系统响应的实时性。
快速适配不同型号的UVC摄像头，以应对供应链变化和成本控制需求。
通过USB连接UVC摄像头，并通过UART与门锁主控通信。
适配不同型号的UVC摄像头，并负责ISP图像效果调试，以满足客户对图像质量的特定要求。
负责人脸识别算法的集成与性能优化，提升识别速度和准确率。
优化人脸模组与门锁主控之间的通信协议，确保指令传输的绝对可靠和高效。

图像方面：
  适配不同类型的摄像头模组，并进行数据处理
  配置I2C总线并初始化摄像头传感器，
  利用君正平台上的ISP图像信号处理单元进行图像质量调优（如3A控制：自动对焦、自动曝光、自动白平衡）
  图像质量优化：不同客户对图像效果有不同偏好（如有的喜欢亮度高的，有的要求噪点少的），且不同摄像头的成像特性差异巨大。
    通过调试君正芯片内置的ISP 参数，动态调整图像的亮度、对比度、饱和度、锐度以及降噪强度。我建立了一套参数配置表，可以针对不同型号的摄像头和客户需求快速切换，显著提升了图像质量和对不同环境的适应性。

  不同供应商的UVC摄像头，其支持的分辨率、帧率、图像格式以及扩展控制指令都存在差异，导致更换摄像头后系统无法正常工作。
  对于不兼容的摄像头，我会在应用层进行图像格式转换和软件缩放，确保输出给算法模块的图像格式和分辨率是统一的。

  实现MJPEG和H.264双码流输出，并管理其生命周期。
  适配不同摄像头并进行ISP图像效果调试，为双码流和识别算法提供高质量的图像源。
  MJPEG因其低延迟、无帧间依赖的特性，用于本地实时预览和快速人脸检测；H.264因其高压缩率，用于远程传输。

  我在应用层创建了独立的任务来管理不同码流的编码、传输。我充分利用X2100的硬件编码器，实现了双码流的同步高效编码，CPU占用率依然保持在较低水平。


  扩展了原有的UART协议，新增了码流切换、视频录制启停、编码参数动态配置等指令，使得主控可以灵活地控制这套复杂的多媒体系统。


  项目后期，为了扩大应用场景（如广角门楣、猫眼），我们需要支持鱼眼摄像头以获取超宽视野。但同时，鱼眼畸变会严重影响人脸识别精度和用户体验。此外，产品要求实现画中画预览功能，即在广角全景画面中，嵌入一个无畸变的人脸特写窗口。

  适配鱼眼摄像头，并集成鱼眼校正算法，为后续处理提供标准图像。
在资源受限的嵌入式平台上，实时实现“画中画”合成与输出。


我首先将鱼眼摄像头作为特殊的UVC设备进行适配，确保能稳定采集到畸变图像。
我并没有自己从头编写校正算法，而是高效地利用了芯片原厂的资源：我集成了君正提供的鱼眼校正库，并负责为其配置正确的校正参数（如镜头焦距、畸变中心、畸变系数等），生成了校正查找表。

鱼眼原始图像一路送入校正流程，得到全景图；另一路，我通过在应用层定义感兴趣区域，从原始图像中抠出人脸区域，先进行校正，再软件缩放为人脸特写小图。