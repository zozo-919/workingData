1. **方案SDK编译烧录固件，记录初版git项目仓库代码**
2. **测试君正人脸识别算法**
3. **测试荆虹人脸识别算法**
4. **实现商汤协议**
   1. 交互录入
   2. 人脸识别鉴权
   3. 获取所有用户id
   4. 获取指定用户信息
   5. 删除指定id用户
   6. 删除所有用户
   7. 获取模组版本
   8. 上电发送standby
5. **修改荆虹人脸算法库**
   1. 提交测试用文件系统
   2. 更改算法库测试demo的数据源，由原先的jpg图片变为raw
   3. 更改ncnn默认采用的池分配策略
   4. 更改原始数据接口，使之处理单通道的raw图
6. **同步君正SDK更新代码**
7. 
    1. 创建荆虹智能门锁模块目录
    2. 实现配置工具选择荆虹智能门锁人脸算法功能，君正或荆虹人脸算法。
    3. 实现荆虹人脸算法与商汤协议的人脸录入和识别功能
8. **同步君正SDK更新代码**
   1. 优化了ramdisk文件系统
   2. 添加SC2355和aw36515 sensor驱动
   3. 修改include/config.h配置为X2100
   4. 修复C++库cout函数阻塞问题
   5. 修复sensor电压不足检测失败问题
   6. 修改数据串口为uart3
9. 
   1. 优化了人脸检测算法的速度
   2. 减小人脸框图像大小
10. **添加红外ir控制芯片aw36515接口**
       1. 使用I2C通信
       2. 取亮帧
11. **ir自动曝光调整**
12. **曝光参数. 人脸角度. 人脸位置. log宏**
13. **商汤协议：**
       1. 实现演示模式命令处理
       2. 实现集成录入命令处理
       3. 实现AES128加密通信功能
14. **同步君正SDK代码**
    1. 更新efuse。
    2. 添加X1600 spi diver。
    3. 更新 spi driver dma doc。
    4. 修复 cim frame convert size。
    5. sc031 light ctrl with pwm。
    6. 更新 freertos conn_isp thread to wait frame。
    7. freertos conn_isp support dqbuf。
    8. uart add timeout。
    9. 优化了ramdisk文件系统。
    10. 添加SC2355和aw36515 sensor驱动。
    11. 修改include/config.h配置为X2100。
    12. 修复C++库cout函数阻塞问题。
    13. 修复sensor电压不足检测失败问题。
    14. 修改数据串口为uart3
15. **商汤协议**
    1. 未成功匹配时返回UNKNOWNUSER。
    2. 实现录入时人脸方向判断功能。
    3. 优化人脸状态通知消息。
    4. 修改norflash分区为uboot 2M + rootfs 14M。
    5. 修改demo模式活体成功时返回id为0xFFFF成功。
    6. 去掉启动日志，添加开启和识别结束日志。
    7. 消除一些编译警告。
    8. 实现演示模式命令处理。
    9. 实现集成录入命令处理。
    10. 实现AES128加密通信功能。
16. 
    1. 删除了过时的文件系统。
    2. 解决了对齐时通道数错误的问题。
    3. 新增算法库的偏移控制
17. 
       1. 修改角度评估时roll和yaw的定义，使其与其他家定义一致
       2. 修改自动曝光调整时跳过头两帧的策略，使其不亮灯
18. 
    1. 实现直接读取nor flash存储用户数据。
    2. 实现录入时判断是否为同一个人在录入的功能。
    3. 实现底库匹配时与正脸和对应方向的脸进行匹配的功能。
    4. 实现获取帧时比对之前获取的两帧来评估帧的质量。
    5. 去掉vendor模块。
    6. 在配置中修改SFC频率为320MHZ。
    7. 关闭log。
19. **打开录入人脸时的方向判断**
20. 
    1. 修改note通知主控当前人脸状态消息。
    2. 实现异或取反加密通信模式。
21. 
    1. 修改录入和识别时添加标识的获取图像帧接口。
    2. 修改用户数据一次从nor flash读取，并占用1204KB内存不释放。
    3. 修改最低亮度值50，屏蔽跳帧。
    4. 添加ir红外过压时复位功能。
    5. 修改配置文件编译器优化级别为-Ofast，帧缓存1，去掉文件系统挂载和shell。
    6. 添加拒识时尝试三次。
22. 
    1. 修改交互录入时其余方向脸与正脸不是同一个人时重新抓取直到超时。
    2. 修改鉴权时一直抓取人脸直到成功或超时。
23. 
    1. modify liveness interface and register order。
    2. fix sc2355 binning优化图像竖纹问题。
24. **修改录入时判断是否为同一个人的阈值为1.4**
25. 
       1. 修改AW36515模组亮灯方式 （sensor驱动层曝光接口来控制）
       2. 修改曝光调整策略
       3. 修改算法模型
       4. 修改原先的代码结构及接口名称
26. 
       1. 修改了已知的编译问题。
       2. 修改了检测模型
27. **修改使用人脸探测库新接口**
28. 
       1. 修改了活体检测的模型。
       2. 修改了活体检测的返回值，现在是返回概率而不是结果。
       3. 修改了yaw和roll的错误
29. 
    1. 实现系统安全人脸算法等级设置功能。
    2. 去除对应方向脸的比对。
    3. 开启活体检测，但为使用其结果。
30. 
    1. 开启活体检测逻辑。
    2. 修改录入时图像质量检测功能。
    3. 修改录入时非正脸只获取人脸角度。
    4. 修改鉴权人脸识别时比对成功再做活体。
    5. 修改上电时关闭亮红外灯。
31. 
    1. 去掉录入时非正脸的特征点提取和比对。
    2. 添加双sensor抓取人脸功能。
    3. 修改用户信息特征点只存正脸。
32. 
    1. 去掉所有日志和性能测试。
    2. 图像调整索引默认值设为10，电流值索引为2，最低亮度为60
33. **更新人脸识别模型**
34. 
    1. 修改曝光等级为7 
    2. 修改电流等级为1
35. 
    1. 实现商汤协议获取软件版本。
    2. 实现软件固件版本名。
36. 添加README.md，记录编译信息和norFlash划分信息
37. 新增算法库版本号信息
38. 修改了曝光调整的逻辑，优先使用开过锁的值
39. 实现保存用户信息到nor flash时异常尝试机制
40. 
       1. 更新了人脸检测模型
       2. 更新了活体检测模型
       3. 更新了识别模型
       4. 活体模型大小缩减，face_model.h中的offset进行相应的修改
41. 
       1. 新增doc/人脸算法.md 描述算法库的相关信息
       2. 修改算法库版本，使其与doc/人脸算法.md中描述一致
42. 
    1. 添加过滤特征值全为0的功能。
    2. 修改缓存特征点buf从堆上分配。
    3. 删除非正脸时也比对底库的逻辑
43. 
       1. 添加打包镜像功能，使用make pack可将程序+模型+flash数据一起打包
       2. 更改版本号方式，由原先的代码中管理更改为在Makefile文件中管理
       3.  更改未检测到脸的曝光逻辑
       4. 修改未检测到人脸的曝光逻辑，使其从最低级开始轮询
       5. 修复make pack时model未对齐的问题
44. 修改获取版本信息
45. 修复遮挡从sensor后还能检测到人脸的bug.
46. 修复在人脸检测时程序偶尔会dump掉的问题 (只是通过规避，未找到真正原因，后续待解决)
47. 修复曝光等级前四组错误的问题
48. 曝光逻辑优化
    1. 删除曝光值自适应调节，在x2100_nor_jh_algorithm_defconfig中将CONFIG_JH_EXPO_SELF_ADAPTION关闭
    2. 删除前四组未使用到的曝光值
49.  解决调试中遇到的问题
50.  Update: 更新算法库版本v0.2.1 ===> v0.3.1
     1. 更新活体检测模型
     2. 活体检测的对齐由112x96变为112x112，且resize成60x60
     3. 活体模型大小缩减
51.  Update: 算法库版本更新v0.3.1 ===> v0.4.1
     1. 更新活体检测模型
     2. 更新特征提取模型
     3. 更新曝光等级，删除两组等级
     4. 修改未检测到人脸时的曝光等级调整，防止溢出
52.  Update：更新打包后的固件大小，由11M缩减至7M
53.  Modify: 修改NCNN的名称为JHNN，进行代码混淆
54.  Update: 算法库版本更新 v0.4.1 ===> v0.5.1
     1. 缩减了特征提取模型的大小
     2. 优化了特征提取的时间
     3. 特征提取前由112x112 resize成96x96
55.  Update: 更新打包流程与打包工具
     1. 更新make pack指令，必须先检测到rtos-with-spl.bin方可打包
     2. 删除tools/padding和tools/align_file两个工具的可执行文件
     3. 新增tools/align_file的源文件，在make时检测tools目录下是否有align_file，若未检测到则进行编译
     4. 新增make check_tools，自动编译需要的工具（align_file）
56.  修复了make toolc_check命令检测align_file时路径错误导致每次都会程序编译align_file的问题
57. 
     1. 新增一级曝光等级
     2. 修改特征提取模型, 使其对齐至112x112
58. 
    1. 更新活体检测模型
    2. 修改特征比对的阈值，从0.9修改为0.98
    3. 修改双Sensor检测的逻辑，现在只有一个Sensor检测到数据后不会直接返回，而是根据检测到的人脸亮度去调整曝光
59. 
    1. 更新活体模型
    2. 修改特征提取的阈值，从0.98修改为1.1
60. 修改make pack时的打包方式，rtos-with-spl.bin由原先的默认对齐至2M变更为自动对齐至合适大小
61. 
    1. 新增通过IConfigTool设置算法模型在Flash中的偏移功能
    2. 新增Make时Debug选项
    3. make时执行make build_type=Debug将编译带debug信息的版本
62. 
    1. 更新活体检测算法
    2. 更新特征提取算法
    3. 更新特征比对阈值，由1.1改为1.05
63. 修改比对阈值为1.0
64. 更新特征提取模型
65. 提交三目人脸算法板代码
66. 采用从senor数据进行算法处理
67. 
    1. 添加鉴权时设置超时7秒，过后再检测到未识别的人返回unknown user。
    2. 修改录入人脸数据存储起始地址为0x800000。
68. 更新gc1054驱动，及工作方式
    1. 更新gc1054工作方式，现在可与算法同时运行
    2. 更新gc1054驱动，翻转图像
69. 更新三目人脸算法板代码
    1. gc1054新增ISP调试
    2. sc2355主/从Sensor曝光表变动，主sensor采用亮度更高的曝光值
70. 更新模型加载方式，现在各模型的size被写入model文件中
71. 实现商汤协议图片抓取和上传图片功能
72. 
    1. 修复了gc1054不能调整曝光的问题
    2. 图像翻转修改为使用ISP
73. 
    1. 增加GC1054效果文件;
    2. 修改gc1054驱动，长宽分辨裁掉1/10;
    3. 编译版本JHIlock-C2011-V0.1.1-2022-07-14_10_45_46.bin送样
74. 修复角度评估时通道数错误的问题
    1. 修复角度评估时传入单通道数据但是处理是三通道的问题
    2. 更新活体模型为0709版
75. 修改人脸最低亮度的阈值
76. 
    1. 修改单帧录入时只录正脸。
    2. 添加获取sn命令的回应
77. 更改活体模型
78. 修改为门锁和UVC不同时工作模式
79. 修改获取SN时发送的长度
80. Title: Release镜像
    1. 新增三目/双目配置，可通过configs/x2100_nor_jh_algorithm_tri_defconfig配置成三目。通过configs/x2100_nor_jh_algorithm_double_defco
    2. nfig配置成双目
       1. 修改算法版本：活体为0727版本，人脸检测为0524，特征提取为0722，95点预测未修改。
       2. 修改算法阈值，五个等级分别为0.8 0.9 1.0 1.1 1.2
       3. 修改最大用户数为50人
81. 
    1. 修改单帧录入时为正脸。
    2. 添加获取SN功能。
    3. 修改录入用户数存储功能
82. 
    1. 修改检测到陌生人三次上报锁控unknownUser。
    2. 添加宏控制三目版本才打开上报unknownUser功能。
    3. 修改三目版本号包含C2016，双目版本号包含C2011。
83. 
    1. 修改双目只在一上电时发一次standby指令。
    2. 修改AES128加密使用的buf为1024，为修复内存越界问题。
    3. 实现通过编译选项控制是否需要活体检测逻辑。
84. 修改双目人脸识别鉴权时检测三次陌生人上报unknownUser
85. 增加新isp效果文件，解决图像两侧有横纹的问题
86. 
    1. 修改nor flash使用空间限制在8M以内。
    2. 修改三目在收到录入和识别指令才停止发送standby。
    3. 修改识别时限制为正脸才与底库比对。
    4. 修改识别阈值改为0.9。
    5. 实现ISP使用硬编码，帧率可达30fps
87. 
    1. 删除上电后连续发standby功能。
    2. 修改获取模组状态指令功能。
88. 更新算法模型
    1. 更新活体模型至0822_antispoof_60x60_MV1-1_256_train40_p0.5_fl_norm1_black_fp16
    2. 更新特征提取模型至0817_glint_arcface0.6_0817data_0.9m_64s_fp16
    3. 活体代码加入了对齐后补边操作
89. 更新特征提取模型
    1. 更新特征提取模型为0816_glint_arcface0.6_0816data_0.9m_64s_ep35_fp16
    2. 更新比对阈值为0.95
90. 
    1. 9月1号量产固件
    2. 替换rgb效果文件 解决rgb图像过暗问题
    3. 修改驱动增加寄存器配置 解决爬行纹问题
    4. 增加ae权重列表 解决逆光时看不清人脸问题
91.  
    1. 修复闪屏问题。：驱动寄存器列表
    2. 优化画面清晰度。：isp
92.  
    1. 底库无人，人脸识别时返回UNKNOWREASON。
    2. 实现取消人脸算法指令。
    3. 适配七芯锁控。
93.  
94. 添加非正脸与正脸对比是否为同一个人。
95. 修改录入正脸质量评估为两帧。
96. 修改录入完5个方向人脸才清除已录入标志。
97. 实现ir图片抓拍功能。
98. 修改左右sensor曝光等级为一致，默认等级8。
99. 
    1. 实现pwm控制ir红外灯功能。
    2. 修改固件打包时间与版本号一致，并拷贝固件为JH_module_firmware.img
100. 君正X2000 Linux SDK中uboot代码
105. 
     1. uboot注释启动日志。
     2. uboot设置GPIO_PC14管脚输出低电平。
     3. uboot修改串口波特率改为115200。
     4. uboot添加编译脚本。
     5. 修改README.md。
106. 
     1. 实现OTA升级功能。
     2. 实现设置串口波特率命令。
     3. pwm修改为level 0 打开ir红外灯。
     4. 使用看门狗实现重启。
     5. uboot实现通过OTA分区启动不同镜像。
     6. uboot中去掉pwm14输出低电平。
107. 
     1. 添加编译宏控制录入时是否查重底库。
     2. 修改通信加密生成密钥规则保存地址，设置默认规则。
108. 修复加密通信时判断生成加密规则逻辑问题
109. 
     1. 修改算法模型
    检测模型：0524_xxxxxxxxxx
    活体模型：1012_xxxxxxxxxx
    特征提取：0928_xxxxxxxxxx
    95点预测：point_95_fp16
     2. 适配x2100L双目一体板并添加调焦功能
110. 
     1. 添加消息命令0x93默认回应。
     2. 修改回复陌生人时延时150ms，适配聚盛锁控。
     3. 添加正在执行0x12鉴权指令时丢弃收到的0x12鉴权指令。
     4. 去掉开机创建uvc功能线程。
111. 
     1. 修改在聚盛-西尚锁控鉴权指令回复前延时150ms，锁控才能正确收到回应。
     2. 修改串口读取数据接口为有返回值，接收到数据才做协议解析。
112. 
     1. 同步君正uboot支持x2100l功能。
     2. 打开读取ota分区标志。
113. 
     1. 删除弃用的代码
     2. 修改荆虹人脸识别算法库，通过git submodule加入到x2100 rtos仓库中
     3. 修改模型加载方式. 现在在编译时使用INCBIN将模型整合到镜像中，提高模型加载速度
114. 
     1. 修改算法库. 删除默认的FACEALG_OPTIMIZE_MEMORY宏
     2. 新增代码拉取说明文档
115. 
     1. 添加使用编译配置来控制pwm-ir的使用。
     2. 添加x2100L主芯片内置32MB内存编译双目版本配置。
     3. 添加编译配置选择x2100或x2100L的启动uboot。
     4. 添加编译配置人脸算法是否重复申请释放内存。
116. 
     1. 修改抓拍图片接口，探测人脸和曝光调整。
     2. 添加build_firmware.sh脚本构建对应锁控的固件。
117. 
     1. 添加alpha锁控对接功能，录入结果延时150ms。
     2. 实现reset0x10功能，中断录入和识别。
     3. 添加build_firmware.sh对版本号类型. 日志. 活体控制。
118. 添加双目sensor调焦功能
119. 
     1. 实现8M flash升级，直接写当前启动的固件区。
     2. 双目上电开启UVC，用于调焦查看图像。
120. 添加适配皇力-深奥版本，添加新的效果文件release_20221026.bin
121. 优化ota升级功能 将待升级固件一次性写入flash
122. 
     1. 修改整理UVC接口。
     2. 修改整理RGB Camera接口。
     3. 实现UVC模块通过不同分辨率传输IR图像和RGB图像。
     4. 修改ir camera获取图像接口，添加互斥锁和传参控制ir灯。
     5. 实现双ir图像合并为一个图像，并压缩为jpg。
     6. 修改固件编译脚本build_firmware.sh默认通用版本为X2100双目。
123. 算法库修复内存越界问题，导致人脸比对异常
124. 添加流程图
125. 
     1. 修改抓拍图片压缩jpg接口。
     2. UVC获取IR图像时关闭红外灯。
     3. 添加《功能测试流程》. 《固件编译说明》文档
126. 添加ota升级和生产工具使用说明文档
127. 
     1. 删除根目录下的model文件
     2. 修改INCBIN加载bin文件的路径，使其加载jh-face-algorithm中的模型文件
128. 添加《对接锁控测试》文档
129. 
     1. 添加海芯锁控版本demo模式延时150ms返回结果。
     2. 修改默认曝光等级为9。
     3. 修改pwm为5000level，开灯为1000。
     4. 去掉驱动的电源管理。
     5. 添加X2100L uboot中关闭灯。
130. 将build_firmware.sh文件中海芯替换为悟空，添加悟空专用版本号
131. 
     1. 适配ir+rgb，添加IRRGB宏控制irrgb版本
     2. 添加rgb探测人脸，
     3. 添加irrgb调焦功能，抓取irrgb图像，
     4. 添加rgb效果文件release_5.bin 
     5. 添加新的配置x2100_nor_jh_algorithm_ir_rgb_double_defconfig
132. 配置pwm并修改为低电平有效
133. 
     1. 修改通用版本录入延时150ms返回结果。
     2. 修改通用版本识别延时50ms返回正确结果，其他延时150ms。
     3. 基于irrgb版本添加宏控制rgb分辨率
     4. 添加irrgb版本图像旋转180度。
     5. 修改irrgb版本起始曝光等级为5
     6. 将合并irrgb图像改为合并单个ir图像
134. 添加适配C2026版本相关配置 效果文件更新至release_9.bin
135. 
     1. 去除交互录入中的人脸比对
     2. 修改人脸探测逻辑：当rgb探测到人脸后 只进行ir人脸探测
136. 
     1. 添加看门狗和录入识别挂掉后的异常恢复逻辑。
     2. 优化人脸录入角度。
     3. 修复demo模式下，先识别再录入导致的重复人脸问题
137. 
     1. 修复硬浮点数计算问题。
     2. 修改录入时其他方向与正脸对比。
138. 
     1. 添加uvc切换分辨率功能。
     2. 优化人脸探测接口。
     3. 修改jpg编码为硬编码。
     4. UVC修改添加帧头timestamp. alt值. 包大小512. 全速。
139. 
     1. 添加抓人脸时reset中断。
     2. 修改聚盛锁控在无人脸时鉴权返回UNKNOWNUSER。
     3. 添加RGB检测人脸条件为ir人脸框亮度大于20.0。
     4. 修改RGB探测人脸时更新为切换后的分辨率。
140. 
     1. 添加uvc跟随锁控类型。
     2. 修改RGB图像左右翻转。
     3. 修改uvc为bulk模式，支持pc端预览。
141. 
     1. 编译时判断编译器版本。
     2. 实现独立线程获取ir和rgb数据帧。
     3. 实现0x93指令获取设备唯一id，为CPU id md5值。
     4. 修改聚盛版本名前添加#XS1002。
     5. 添加efuse。
142. 修改图像效果过暗，ISP图像效果优化。
143. 
     1. 添加广誉锁控使用移康和昊威猫眼屏功能。
     2. 添加uvc兼容广誉和聚盛。
     3. 整理编译脚本build_firmware.sh。
144. 
     1. 修改jpg编码等级为中等。
     2. 添加isp缓存帧为3。
145. 修改广誉-昊威版本的编码方式为：软编码
146. 
     1. 修改rgb探测人脸时使用对应的分辨率。
     2. 添加uvc限制最大帧400KB。
     3. 修改720P缓存帧为2。
147. 优化和整理代码接口
148. rgb分辨率接口整理，默认480x320
149. 修复rgb图像幻影问题，修改人脸算法运行时才打开ir camera
150. 新增聚胜240*320分辨率 修改聚胜编码方式为软编码
151. 
     1. 添加中值滤波优化rgb图像噪声。
     2. 添加rgb图像red权重，修复图像范蓝问题。
152. 添加鑫国鑫版本，rgb图像旋转180度
153. 
     1. 去掉中值滤波图像去噪。
     2. 整理uvc分辨率。
     3. 修改isp默认分辨率为720P。
     4. 修改银欧为高速。
154. 
     1. 优化uvc传输数据缓存内存。
     2. 修改ISP 720p缓存帧数为3。
     3. 修改ir调焦时为单帧。
155. 
     1. 修改商汤协议线程栈为1.5MB。
     2. 添加两帧叠加取均值去图像噪点功能。
     3. 修改uvc传输数据缓存大小可存720P nv12大小。
156. 修复抓拍图片时，调曝光导致程序挂掉问题
157. 适配鑫国鑫uvc猫眼
158. 在暗环境下补出ir图 修改ir缓存为2帧
159. 鑫国鑫送样
     1. 修改录入和识别时都需检测rgb人脸。
     2. 修改rgb探测人脸时resize成ir的分辨率。
     3. 修改在暗环境rgb曝光时间达到阈值时，设置为手动曝光。
160. 添加悟空对应版本 ---WK 2. 通过宏来适配对应版本改动
161. 鑫国鑫送样
     1. 修改活体阈值为0.8。
     2. 修改获取活体帧时先判断质量，后续只抓活体。
     3. 修改放宽录入左脸。
     4. 去掉是否为同一个人在录入。
     5. 修改rgb人脸探测最低亮度为50。
162. 
     1. 减小线程栈大小，修改rgb720p为缓存3帧，达到30fps。
     2. 修改uvc在rgb曝光时间为19000时才切换为ir流。
163. 修改商汤协议处理线程栈为512KB
164. 优化图片抓拍内存消耗
165. 
     1. 调整聚盛uvc分辨率列表。
     2. 去掉uvc第4个分辨率旋转图像。
166. 悟空送样版本
     1. 修改uvc切换ir图像逻辑判断ev和luma。
     2. 修改uvc ir图像为固定增益2.25x。
     3. 悟空去掉图像噪点算法. uvc为全速。
     4. 修改图像效果为偏冷色调. 对比度. 亮度。
     5. 更新效果文件。
     6. 修改曝光最大时间。
167. 
     1. 添加调焦模式uvc rgb在黑夜环境不切换ir。
     2. 聚盛添加720P和调焦分辨率。
168. 悟空C2024量产
     1. 在feature-JUSHEN-C2026基础上添加音频功能。
169. 同步uvc代码全速高速. 包大小. ep点修改
170. 修改uvc切ir图像，使用软硬编码通用接口
171. 整合uvc使用uac1源码，相关驱动通过编译配置configs中控制
172. 添加悟空X2100L带音频功能
173. 锦蔟锁控，打开君正uart内置上拉电阻
174. 富宇智能版本
     1. 添加老化测试时uvc拉5次重启设备。
     2. 添加同时解析加密和非加密商汤协议数据功能。
     3. 修改uart加密通信保存加密类型. 生成密钥规则. 密钥。
175. 
     1. 添加富宇智能锁控编译类型。
     2. 实现CPM寄存器来判断是否为主动重启。
176. 添加sensor sc1346
177. 添加悟空新锁结构类型
178. 添加采集ir RAW编译功能
179. 
     1. 添加皇力c2026对应版本 -- HL_0524 
     2. 添加安居邦对应版本 -- ANJB 
     3. 更新软编码可调节压缩率
180. 添加C2024悟空新锁控结构
181. 添加悟空-世博对应锁控 -- WK_SB
182. C3006更新rgb效果文件，修复图像有分隔问题与图像优化
183. 修改安居邦rgb图像方向
184. 
     1. 皇力C3005版本。
     2. 修改rgb人脸探测为根据比例来计算亮度。
185. 
     1. 安居邦默认ISP初始化480x320。
     2. uvc ir上下翻转
186. 将聚盛改动移植到uvac
187. 
     1. 去掉不用的uvc代码。
     2. 修改JUSHEN_C2026为MOLI魔力版本。
188. 新增悟空-揽胜对应版本 -- WK_LS
189. 鑫国鑫C3005
     1. 图像旋转。
     2. 初始化为720P。
190. 改note人脸状态数据为小端序
191. VOC送样
     1. 修改VOC版本保存生成密钥规则到flash。
     2. 添加VOC C2024 C2026锁控版本。
192. 新增揽胜-c3005对应版本 -- LS_C3005
193. 修改WK_JC-锦簇对应版本色调
194. 皇力C2026旋转180度
195. 修改uvc和uac跟随编译配置，uvc分辨率整理
196. 
     1. 添加图像旋转180度控制机制，适配模组旋转180度。
     2. 添加七芯C2024和C2026锁控类型。
197. 
     1. 添加鑫国鑫倒装锁控版本。
     2. 修复ir raw旋转180度问题。
198. 
     1. 修改jpg硬编码可设置编码等级。
     2. 去掉uvc 720p分辨率。
     3. 修改uac为非bulk模式。
199. 添加佳德宝对应版本 - JDB_C2024,JDB_C2026
200. 添加uart电压检测机制，uart上电再初始化发送standby
201. 
     1. 添加悟空世博和富宇智能X2100L编译选项。
     2. 修改uvc状态。
202. 优化WK_SB版本暗环境下切ir功能 修改该版本pwm占空比 更改传输带宽为1023
203. 魔方初版
204. 
     1. 添加LCD亮10秒息屏
     2. 3个及以上脉冲断电
205. 在uboot中打开power hold：控制gpio
206. 添加uac，并将音频回放的mute关联LCD开关
207. 修改使用已有的nv12旋转接口
208. 添加LCD切黑白功能
209. 
     1. 添加2分钟掉电机制，开一次LCD刷新时间。
     2. 修改在uav play mute控制开LCD后，10秒息屏。
     3. 修改在显示一帧后，再点亮LCD背光。
210. 代码优化整理
211. 
     1. uac同步魔力。
     2. 修改上电熄背光。
     3. 修改uvc buf为512KB。
212. 修改人脸算法模型在运行时加载
213. 添加rgb参与人脸算法
214. 修改RGB探测不到人脸问题
215. 
     1. 去掉电源管理，去掉USB IO功能。
     2. 添加uart探测rx电压功能。硬件需去掉上拉电阻。
     3. 修改LCD亮屏10机制。
     4. 修改UAC play mute 非静音LCD正向显示图像，静音时倒像显示。
     5. 添加NV12逆向旋转图像功能。
216. 
     1. 修改uvc枚举分辨率为640x480. 480x320. 800x480. 640x360。
     2. 修改LCD显示超时时间机制为一个线程控制。
217. 
     1. 修改RGB图像为固定分辨率800x480，uvc拉其他分辨率时使用缩放。
218. 
     1. 修改jpg硬编码质量为1.3。
     2. 限制uvc传输图像大小为65KiB以内。
219. 
     1. 优化正光. 背光录入等级。
     2. 添加活体适配调整机制。
     3. 设置曝光后丢两帧。
     4. 修改驱动增大vts，降低帧率增加曝光时间上限。
     5. 录入角度优化。
     6. 修改pwm高电平有效。
     7. 修改LCD驱动初始化寄存器列表。
220. 
     1. 修改rgb sc2355驱动分辨率为1600x1200：原始分辨率
     2. 更新rgb效果文件。
221. 
     1. 添加ISP1专用于LCD。
     2. 整理LCD与uvc切ir逻辑。
222. 修改uvc输出图像resize为切分辨率
223. 添加ir取数据流线程停止逻辑
224. 
     1. 修改ir调焦分辨率为resize rgb问题。
     2. 修改jpg编码接口，分辨率不一致时重新初始化。
     3. 修改rgb默认初始化为640x480。
225. 
     1. 备份LCD显示logo功能。
     2. 音频只保留mute回调。
     3. 优化新硬件曝光等级。
     4. 添加uboot中关LCD背光。
     5. 修改rgb效果文件。
226. 
     1. 调整DDR访问优先级:isp至最高。
     2. CPU带宽限制。
     3. 修复开两路ISP导致图像上下或左右分块问题。
227. 
     1. 修复手快速在镜头前来回晃动，LCD显示会出现横线问题，添加显示frame缓存一帧。
     2. 修改人脸鉴权阈值为0.9。
228. 
     1. isp LCD丢弃第一帧。
     2. 修改背光亮度等级为100。
     3. 修改LCD驱动RST间隔时间和相关参数，修复闪屏问题。
229. 回退到使用单ISP，uvc从800x480resize
230. 
     1. 修改LCD显示黑白，uvc显示rgb问题。
     2. 修改pwm为低电平有效。
     3. 修改背光pwm引脚为PC01。
     4. 修改在窗口rgb图像过曝问题，更新效果文件。
231. 
     1. 修改rgb出原始图像为800x600，LCD和uvc在此数据缩放和裁剪。
     2. 修改LCD收到亮屏指令时才初始化。
     3. 修改uvc传输buf为800x480 nv12大小。
     4. 修改pwm默认为500，逆光时为1000。
     5. 优化曝光等级。
     6. 修改rgb在黑暗状态才探测人脸。
232. 
     1. 修改LCD上电初始化，加快点屏速度。
     2. 去掉ir camera在uvc时的高优先级。
233. 
     1. 去掉录入人脸时查重。
     2. 修改uvc ir时，取ir线程为高优先级。
234. 
     1. 优化rgb取流线程，不使用rgb数据时关闭流。
     2. 去掉部分日志。
235. 
     1. 修改活体阈值为0.95。
     2. 添加C3012-01旧板编译。
     3. 修改rgb黑暗判断luma值30。
236. 
     1. 修改uvc切ir时，挡住rgb镜头还能识别问题。
     2. 添加双通灯编译选项。
237. 添加调焦模式下rgb输出1600x1200
238. 
     1. 实现USB上电检测功能。
     2. 修改uvc和人脸功能都使用线程初始化。
     3. 降低rgb切ir阈值为luma10。
     4. 备份双通镜头效果文件DoublePassFilter.bin。
     5. 修改LCD驱动为4.5寸854x480
239. 添加USB探测电压功能，uvc根据电压来开关连接。
240. 
     1. 优化USB电压探测功能。
     2. 添加LCD屏幕尺寸设置保存flash功能。
     3. 修改LCD驱动获取不同尺寸配置。
241. 
     1. 添加读LCD屏尺寸配置命令。
     2. 修改硬件版本到软件版本名中。
242. 
     1. 修改pwm80%为100%。
     2. 修改ISP效果文件增加rgb图像亮度。
     3. 修改rgb的rgain和bgain为偏暖风格。
243. 增加逆光下的曝光等级。
244. 版本号添加尺寸标识，40inch为4寸屏默认配置，45inch为4.5寸屏默认配置标识。
245. 
     1. 添加uart高电平检测发送ready指令功能。
     2. 添加ir未探测到人脸时，根据背景亮度来调节曝光功能。
246. 
     1. 修改rgb图像有暗角问题，通过裁剪图像。：镜头通光孔过小，或结构遮挡
     2. 修改uart下电后rx. tx还有电压问题，改输入下拉。
     3. 版本号标识C3012_04。
247. 添加c3015对应版本 -- MOFANG_C3015, 更新音频, c3015开启音频功能
248. 
     1. 修改uart上电后再截屏点不亮问题。
     2. 修改第二次识别指令未回复超时问题。
     3. 修改原始FOV不切角。
249. 
     1. 添加奥派logo显示功能。
     2. 修改LCD有时点不亮问题。
250. 
     1. 添加奥派新logo。
     2. 添加uart指令配置是否显示logo。
     3. 修改LCD有时不能点亮问题。
251. 
    修改rgb图像对比度
    调整mic音量为90
    清除上电时的10组playback数据以消除杂音
252. 
     1. 添加探测到uart上电才初始化人脸，USB上电才初始化lcd和uvc。
     2. 修改sensor与人脸. LCD启动逻辑。
     3. 优化LCD驱动延时消耗。
     4. 去开开机日志。
253. 
     1. 同步c3005相关版本至该分支
     2. 通过配置 -- CONFIG_APPLICATION_ENABLE_LCD 控制是否点屏
     3. 添加适配C2026新模组版本
     4. 通过宏 - SOFT_ENCODE 控制编码方式
254. 解决西尚锁板演示模式不能使用的问题
255. 添加魔方中性logo编译宏
256. 
     1. 修改算法线程优先级为high。
     2. 添加二分法人脸曝光逻辑。
     3. 修改playback偶发性没声的问题。
     4. 修改rgb参与人脸算法时亮度范围60~145。
     5. 修改人脸识别阈值为0.95。
257. 
     1. 修改ir和rgb取流线程在USB上电时开启。
     2. 修改C3015红外pwm为1000。
     3. 修改人脸算法USB未上电时直接取ir和rgb帧。
     4. 修改rgb基于ir人脸框参与人脸算法的亮度范围60~120。
     5. 修改曝光机制在默认曝光等级时直接上下跳。
258. 更新isp效果文件 更新ae权重列表 添加鑫国鑫对应版本XGX_C2026
259. 魔方C3020初版
     1. 修改uart和USB电压探测管脚
     2. 添加点亮双ir加rgb sensor
     3. 添加双ir人脸
260. 添加双ir调焦
261. 添加C3020-GC2053鱼眼矫正
262. 
     1. 添加双ir过一个活体即成功。
     2. 同步C3015微调曝光逻辑与曝光等级。
263. 修改双sensor调曝光函数
264. 
     1. 添加C2021编译选项。
     2. 修改低活体阈值为0.95。
265. 控制C3020的rgb补光灯. 添加c3020鱼眼矫正
266. 修改rgb白光灯切换灵敏度
267. 修改低曝光等级活体阈值为0.3
268. 更改画中画缩放方式
269. 
     1. 修改rgb在usb上电时才初始化。
     2. 修改识别6次失败返回陌生人。
     3. 修改调焦时rgb输出校正后的最大分辨率。
     4. 修改C3015曝光等级为C3012。
270. 
     1. 添加另一个核来处理图像旋转和画中画功能。
     2. 优化rgb取流线程代码。
271. 修改夜晚模式切换功能
272. 
     1. 修改人脸运行中打开猫眼ir灯长亮问题。
     2. 修改人脸优先级为high。
     3. 修改去掉取ir图像线程，调焦模式直接图像。
     4. 修改rgb开灯切换线程到rgb取流线程启动。
     5. 修改rgb初始化到线程中。
     6. 更新gc2053效果文件，修改黑夜模式效果。
273. 
     1. 修改两帧质量判断阈值为0.5。
     2. 修改录入活体阈值为0.5。
     3. 修改录入时亮度范围60~120。
     4. 修改pwm为2000。
     5. 修改曝光等级。
     6. 修改rgb矫正图像效果。
274. 
     1. 修改活体或比对失败一次时微调曝光时间。
     2. 添加曝光时间42的曝光等级。
     3. 修改亮度小于60或大于120微调64，其他微调32。
275. 
     1. 修改录入时的图像质量。
     2. 修改图像曝光时间小于500时微调曝光step为16。
276. rgb畸变矫正移动到第2核运行
277. 添加可配置图像旋转180度功能
278. 优化rgb图像帧率，使用ISP实现旋转
279. 
     1. 添加WK_C2021编译选项。
     2. 整理初始化流程代码。
280. 修改rgb补关灯控制逻辑为低有效，硬件优化了控制电路
281. 修改rgb白天黑夜切换时间
282. 实现直接ir或rgb sensor也可以独立工作：驱动层与应用层检测失败时程序不挂
283. 添加c3020新sensor 鱼眼矫正参数
========================================
284. uvc 双码流